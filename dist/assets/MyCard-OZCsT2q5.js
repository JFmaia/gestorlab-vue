import{d as D,f as N,s as V,u as _,r as q,z as A,o,c as m,w as y,J as p,x as l,K as r,g as e,a3 as n,a as t,t as s,W as k,k as w,h as L,Q as P,F as S,j as h,a4 as g,i as F,D as R,C as $,p as E,e as J}from"./index-DQBdR0Ge.js";import{p as K}from"./perm-vwS0HX-P.js";import{l as W}from"./laboratory-4uNn5bkM.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H=a=>(E("data-v-0f79b2f1"),a=a(),J(),a),O={class:"span-article"},X=H(()=>t("div",null,null,-1)),Y={class:"content-card"},Z=["value"],ee={type:"submit"},te={class:"span-article"},ae={class:"span-article"},le={class:"span-article"},re={onClick:()=>{}},se=D({__name:"MyCard",props:{idPend:{type:String,required:!1,default:""},type:{type:Number,required:!0},idUser:{type:String,required:!1,default:""},idLab:{type:String,required:!1,default:""},idProjeto:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},subTitle:{type:String,required:!1,default:""},summary:{type:String,required:!1,default:""},nomeUser:{type:String,required:!1,default:""},nomeLab:{type:String,required:!1,default:""},nomeProject:{type:String,required:!1,default:""},dateCreate:{type:String,required:!1,default:""}},setup(a){const x=N(),U=W(),v=V(),M=K(),I=_(),u=a;let c=q(!1),C=q(),b=q();A(async()=>{await j()});async function j(){u.type===1?C.value=await M.getPermissionsLab():C.value=await M.getPermissions()}async function Q(){c.value=!0;const f={id_user:u.idUser,id_lab:u.idLab,token:v.getToken},d=await x.setInviteForLab(f);d===!0?(c.value=!1,alert("Pedido enviado!")):(c.value=!1,alert(d))}async function z(){var i;const f={idUser:u.idUser,idLab:u.idLab,perm_id:(i=b.value)==null?void 0:i.id},d=await U.addMemberInLaboratorio(f,v.getToken);if(d){const T=await U.deleteAcessLab(u.idPend,v.getToken);T?(await x.updateLaboratorio(u.idLab,v.getToken),alert("UsuÃ¡rio adicionado com sucesso!")):alert(T)}else alert(d)}function B(f){I.push({name:"profile",params:{id:f}})}return(f,d)=>(o(),m(S,null,[y(l(e(g),{dark:"",bordered:"",class:"my-card"},{default:r(()=>[l(e(n),null,{default:r(()=>[t("article",null,[t("h1",null,s(a.title),1),t("p",null,s(a.subTitle),1)])]),_:1}),l(e(k),{dark:""}),l(e(n),null,{default:r(()=>[t("article",null,[t("span",O,s(a.summary),1),t("button",{onClick:d[0]||(d[0]=w(i=>Q(),["prevent"]))},[e(c)?(o(),L(e(P),{key:0,size:"20px",color:"dark"})):(o(),m(S,{key:1},[h(" Se candidatar ")],64))])])]),_:1})]),_:1},512),[[p,a.type===0]]),X,y(l(e(g),{dark:"",bordered:"",class:"my-card-lab"},{default:r(()=>[l(e(n),null,{default:r(()=>[t("article",null,s(a.nomeUser),1)]),_:1}),l(e(k),{dark:""}),l(e(n),{class:"card-section"},{default:r(()=>[t("form",{onSubmit:d[2]||(d[2]=w(i=>z(),["prevent"]))},[t("div",Y,[h(s(a.dateCreate)+" ",1),y(t("select",{id:"permitions",name:"permitions",required:"","onUpdate:modelValue":d[1]||(d[1]=i=>F(b)?b.value=i:b=i)},[(o(!0),m(S,null,R(e(C),i=>(o(),m("option",{key:i.id,value:i},s(i.title),9,Z))),128))],512),[[$,e(b)]])]),t("button",ee,[e(c)?(o(),L(e(P),{key:0,size:"20px",color:"dark"})):(o(),m(S,{key:1},[h(" Aceitar membro ")],64))])],32)]),_:1})]),_:1},512),[[p,a.type===1]]),y(l(e(g),{dark:"",bordered:"",class:"my-card-lab"},{default:r(()=>[l(e(n),null,{default:r(()=>[t("article",null,[t("h1",null,s(a.title),1),t("p",null,s(a.dateCreate),1)])]),_:1}),l(e(k),{dark:""}),l(e(n),null,{default:r(()=>[t("article",null,[t("span",te,s(a.summary),1)])]),_:1})]),_:1},512),[[p,a.type===2]]),y(l(e(g),{onClick:d[3]||(d[3]=w(i=>B(a.idUser),["prevent"])),dark:"",bordered:"",class:"my-card-member"},{default:r(()=>[l(e(n),null,{default:r(()=>[t("article",null,[t("h1",null,s(a.title),1),t("p",null,s(a.dateCreate),1)])]),_:1}),l(e(k),{dark:""}),l(e(n),null,{default:r(()=>[t("span",ae,s(a.summary),1)]),_:1})]),_:1},512),[[p,a.type===3]]),y(l(e(g),{dark:"",bordered:"",class:"my-card-member"},{default:r(()=>[l(e(n),null,{default:r(()=>[t("article",null,[t("h1",null,s(a.title),1),t("p",null,s(a.subTitle),1)])]),_:1}),l(e(k),{dark:""}),l(e(n),null,{default:r(()=>[t("span",le,s(a.summary),1)]),_:1}),t("button",re,[e(c)?(o(),L(e(P),{key:0,size:"20px",color:"dark"})):(o(),m(S,{key:1},[h(" Aceitar o pedido ")],64))])]),_:1},512),[[p,a.type===4]])],64))}}),ue=G(se,[["__scopeId","data-v-0f79b2f1"]]);export{ue as M};
