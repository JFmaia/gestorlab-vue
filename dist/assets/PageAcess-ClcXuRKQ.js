import{d as N,s as Y,f as Z,u as ee,r as o,o as n,c as w,a as e,w as h,v as q,g as t,i as m,n as G,h as y,q as S,k as L,Q as te,x as se,p as T,e as j,y as pe,z as ae,A as ve,B as _e,C as fe,F as O,D as ge,t as he,E as ye,j as be,G as we}from"./index-CS_LqtFy.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as X}from"./index-CdmU9UX8.js";import{L as ke}from"./LoadingPage-DDoa1loc.js";const H=d=>(T("data-v-8b6ce5dd"),d=d(),j(),d),xe={class:"form-group"},Ce=H(()=>e("label",{for:"username"},"E-mail",-1)),Se={class:"form-group"},Ue=H(()=>e("label",{for:"password"},"Senha",-1)),Ve={class:"password-input"},$e=["type"],Ee={type:"submit",class:"button-login"},Ie={key:1},qe=H(()=>e("p",null,"Cadastre-se gratuitamente!",-1)),ze=N({__name:"FormLogin",emits:["event"],setup(d,{emit:D}){const z=Y(),C=Z(),v=ee();let c=o(),u=o(),l=o(!0),_=o(!1);const U=D;function V(){U("event",!1)}function f(){v.push("/dashboard")}function $(){v.push("/sendEmail")}async function k(){_.value=!0;const p=new FormData;if(p.append("username",c.value||""),p.append("password",u.value||""),await z.authLogin(p)){const r=z.getToken;await C.setUser(r),_.value=!1,f()}else _.value=!1,alert("Senha ou E-mail invalidos!")}return(p,i)=>(n(),w("form",{onSubmit:i[5]||(i[5]=L(r=>k(),["prevent"]))},[e("div",xe,[Ce,h(e("input",{"onUpdate:modelValue":i[0]||(i[0]=r=>m(c)?c.value=r:c=r),placeholder:"digite seu e-email",type:"text",id:"username",name:"username",required:""},null,512),[[q,t(c)]])]),e("div",Se,[Ue,e("div",Ve,[h(e("input",{"onUpdate:modelValue":i[1]||(i[1]=r=>m(u)?u.value=r:u=r),class:"password",type:t(l)?"password":"text",placeholder:"senha",id:"senha",name:"senha",required:""},null,8,$e),[[G,t(u)]]),e("span",{class:"eye",onClick:i[2]||(i[2]=r=>m(l)?l.value=!t(l):l=!t(l))},[t(l)?(n(),y(t(S),{key:0,name:"visibility_off",size:"1rem"})):(n(),y(t(S),{key:1,name:"visibility",size:"1rem"}))])])]),e("a",{onClick:i[3]||(i[3]=L(r=>$(),["prevent"]))},"Esqueceu sua senha?"),e("button",Ee,[t(_)?(n(),y(t(te),{key:0,size:"20px",color:"dark"})):(n(),w("p",Ie," Entrar "))]),e("button",{onClick:i[4]||(i[4]=L(r=>V(),["prevent"])),class:"button-card"},[qe,se(t(S),{name:"east",size:"1rem"})])],32))}}),De=Q(ze,[["__scopeId","data-v-8b6ce5dd"]]),b=d=>(T("data-v-863e671c"),d=d(),j(),d),Fe={class:"form-group"},Le=b(()=>e("label",{for:"image"},"Imagem de perfil",-1)),Re={class:"form-group"},Ae=b(()=>e("label",{for:"primeiro-nome"},"Primeiro nome",-1)),Be={class:"form-group"},Me=b(()=>e("label",{for:"segundo-nome"},"Segundo nome",-1)),Pe={class:"form-group"},Ge=b(()=>e("label",{for:"matricula"},"Matricula",-1)),Ne={class:"form-group"},Te=b(()=>e("label",{for:"email"},"E-mail",-1)),je={class:"form-group"},Qe=b(()=>e("label",{for:"telefone"},"Telefone",-1)),He={class:"form-row"},Je={class:"form-group"},We=b(()=>e("label",{for:""},"Data de nascimento",-1)),Ke={class:"form-group"},Oe=b(()=>e("label",{for:"genero"},"Gênero",-1)),Xe=["value"],Ye={class:"form-colunm"},Ze={class:"form-row"},et={class:"form-group"},tt=b(()=>e("label",{for:"senha"},"Senha",-1)),st={class:"password-input"},at=["type"],ot={class:"form-group"},nt=b(()=>e("label",{for:"confirm-senha"},"Confirma senha",-1)),it={class:"password-input"},lt=["type"],rt={key:0,class:"error"},dt=["disabled"],ut=b(()=>e("p",null,"Já tem cadastro?",-1)),mt=N({__name:"FormSignup",emits:["event"],setup(d,{emit:D}){const z=Z();let C=o(),v=o(),c=o(),u=o(),l=o(),_=o(),U=o(),V=o(),f=o(),$=o(),k=o(!0),p=o(!0),i=o(!1),r=o(!1),oe=o(null),J=o(null),ne=D;pe($,g=>{f.value!==""&&f.value!==void 0&&f.value!==null&&(g!==f.value?i.value=!0:i.value=!1)}),ae(()=>{ie()});async function ie(){try{const g=await ve.get("/generos");C.value=g.data,v.value=g.data[0]}catch{return}}function le(g){var R;const x=(R=g.target.files)==null?void 0:R[0];if(!x)return;oe.value=x;const s=new FileReader;s.onload=async de=>{var K;const F=new Image;F.src=(K=de.target)==null?void 0:K.result,await new Promise(ce=>{F.onload=()=>ce()});const B=800,M=600,ue=.7,A=document.createElement("canvas"),P=A.getContext("2d");let E=F.width,I=F.height;E>B&&(I=I*B/E,E=B),I>M&&(E=E*M/I,I=M),A.width=E,A.height=I,P==null||P.drawImage(F,0,0,E,I);const me=A.toDataURL("image/jpeg",ue);J.value=me},s.readAsDataURL(x)}function W(){ne("event",!0)}async function re(){var x;r.value=!0;const g={primeiro_nome:l.value,segundo_nome:_.value,data_nascimento:V.value,id_genero:(x=v.value)==null?void 0:x.id,email:U.value,image:J.value,matricula:X(c.value),tel:X(u.value),senha:f.value},a=await z.createUser(g);a===!0?(r.value=!1,alert("Usuário criado com sucesso, agora espere o seu acesso ser liberado!"),W()):(r.value=!1,alert(a))}return(g,a)=>{const x=_e("mask");return n(),w("form",{onSubmit:a[12]||(a[12]=L(s=>re(),["prevent"]))},[e("div",Fe,[Le,e("input",{type:"file",onChange:le,accept:"image/*",id:"image",name:"image",placeholder:"escolha uma imagem"},null,32)]),e("div",Re,[Ae,h(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>m(l)?l.value=s:l=s),type:"text",id:"primeiro-nome",name:"primeiro-nome",placeholder:"digite seu primeiro nome",required:""},null,512),[[q,t(l)]])]),e("div",Be,[Me,h(e("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>m(_)?_.value=s:_=s),type:"text",placeholder:"digite seu segundo nome",id:"segundo-nome",name:"segundo-nome",required:""},null,512),[[q,t(_)]])]),e("div",Pe,[Ge,h(e("input",{"onUpdate:modelValue":a[2]||(a[2]=s=>m(c)?c.value=s:c=s),placeholder:"digite sua matricula",type:"text",id:"matricula",name:"matricula",required:""},null,512),[[q,t(c)],[x,"###########"]])]),e("div",Ne,[Te,h(e("input",{"onUpdate:modelValue":a[3]||(a[3]=s=>m(U)?U.value=s:U=s),placeholder:"digite seu e-mail",type:"email",id:"email",name:"email",required:""},null,512),[[q,t(U)]])]),e("div",je,[Qe,h(e("input",{"onUpdate:modelValue":a[4]||(a[4]=s=>m(u)?u.value=s:u=s),required:"",type:"tel",id:"telefone",name:"telefone",placeholder:"(00) 09939-0000"},null,512),[[q,t(u)],[x,["(##) ####-####","(##) #####-####"]]])]),e("div",He,[e("div",Je,[We,h(e("input",{"onUpdate:modelValue":a[5]||(a[5]=s=>m(V)?V.value=s:V=s),type:"date",id:"date",name:"date"},null,512),[[q,t(V)]])]),e("div",Ke,[Oe,h(e("select",{id:"genero",name:"genero","onUpdate:modelValue":a[6]||(a[6]=s=>m(v)?v.value=s:v=s)},[(n(!0),w(O,null,ge(t(C),(s,R)=>(n(),w("option",{key:R,value:s},he(s.title),9,Xe))),128))],512),[[fe,t(v)]])])]),e("div",Ye,[e("div",Ze,[e("div",et,[tt,e("div",st,[h(e("input",{"onUpdate:modelValue":a[7]||(a[7]=s=>m(f)?f.value=s:f=s),class:"password",type:t(k)?"password":"text",placeholder:"senha",id:"senha",name:"senha",required:""},null,8,at),[[G,t(f)]]),e("span",{class:"eye",onClick:a[8]||(a[8]=s=>m(k)?k.value=!t(k):k=!t(k))},[t(k)?(n(),y(t(S),{key:0,name:"visibility_off",size:"1rem"})):(n(),y(t(S),{key:1,name:"visibility",size:"1rem"}))])])]),e("div",ot,[nt,e("div",it,[h(e("input",{"onUpdate:modelValue":a[9]||(a[9]=s=>m($)?$.value=s:$=s),class:"password",type:t(p)?"password":"text",placeholder:"confirme sua senha",id:"confirm-senha",name:"confirm-senha",required:""},null,8,lt),[[G,t($)]]),e("span",{class:"eye",onClick:a[10]||(a[10]=s=>m(p)?p.value=!t(p):p=!t(p))},[t(p)?(n(),y(t(S),{key:0,name:"visibility_off",size:"1rem"})):(n(),y(t(S),{key:1,name:"visibility",size:"1rem"}))])])])]),t(i)?(n(),w("span",rt,"As senhas não são iguais!")):ye("",!0)]),e("button",{class:we(t(i)?"button-save-disabled":"button-save"),name:"button-save",type:"submit",disabled:!!t(i)},[t(r)?(n(),y(t(te),{key:0,size:"20px",color:"dark"})):(n(),w(O,{key:1},[be(" Cadastrar ")],64))],10,dt),e("button",{onClick:a[11]||(a[11]=L(s=>W(),["prevent"])),class:"button-card"},[ut,se(t(S),{name:"east",size:"1rem"})])],32)}}}),ct=Q(mt,[["__scopeId","data-v-863e671c"]]),pt=d=>(T("data-v-ff0d44ca"),d=d(),j(),d),vt={key:1,class:"container-signup"},_t={class:"signup"},ft=pt(()=>e("div",{class:"banner"},null,-1)),gt={class:"form-signup"},ht={key:0},yt={key:1},bt=N({__name:"PageAcess",emits:["event"],setup(d){const D=Y(),z=ee();let C=o(!0),v=o(!0);ae(async()=>{await D.authAutenticate()?c():v.value=!1});function c(){z.push("/dashboard")}async function u(l){C.value=l}return(l,_)=>t(v)?(n(),y(ke,{key:0})):(n(),w("div",vt,[e("div",_t,[ft,e("div",gt,[t(C)?(n(),w("p",ht," Acesse sua conta ")):(n(),w("p",yt," Cadastre-se gratuitamente ")),t(C)?(n(),y(De,{key:2,onEvent:u})):(n(),y(ct,{key:3,onEvent:u}))])])]))}}),St=Q(bt,[["__scopeId","data-v-ff0d44ca"]]);export{St as default};
