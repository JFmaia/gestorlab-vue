import{d as X,s as Y,f as Z,H as ee,r as m,u as ae,z as le,I as te,o as i,c as g,w as M,J as P,x as l,K as t,g as e,F as w,L as se,M as oe,N as T,i as $,q as h,O as ue,a as v,h as k,P as z,t as S,D as A,R as U,S as b,E as Q,T as re,k as ne,U as ie,V as de,W as F,X as ce,j as q,Y as fe,Z as me,_ as ve,$ as _e,a0 as pe,p as ge,e as be}from"./index-DQBdR0Ge.js";import{c as d,L as N}from"./LoadingPage-C1Px-vjo.js";import{p as he}from"./perm-vwS0HX-P.js";import{_ as ke}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ye=y=>(ge("data-v-1735de4c"),y=y(),be(),y),Le={class:"button-bar"},we={class:"menu-button-content"},Se=ye(()=>v("span",null,[q("Gestor"),v("strong",null,"Lab")],-1)),Qe={class:"menu-header"},Ce={class:"menu-lab-profile"},xe=["src"],Me={class:"nameUser"},Pe=["src"],Ue={class:"nameUser"},Ve=X({__name:"DashBoard",setup(y){const V=Y(),p=Z(),E=he(),H=ee(),I=m(!1),L=m(!1);let c=m(!1),o=m(null),_=m(null),C=m(null),B=m(null),r=m(null),s=m();const D=ae();le(async()=>{L.value=!0,await p.setUser(V.getToken),R(),L.value=!1}),te(()=>{I.value=H.isLoading});function O(){D.push("/pageAcess")}function j(){var f;D.push({name:"profile",params:{id:(f=o.value)==null?void 0:f.id}})}function G(){V.logout(),p.clearUser(),O()}function J(f,u){const a=_.value.find(n=>n.id===f);p.changeLabInState(pe(a),u),R()}async function K(f,u){if(f.length!==0&&f!==null){let a=await E.getPermissionsLab(),n=f.find(x=>x.id_user===u);return a.find(x=>x.id===n.id_perm).title}else return"Membro"}async function R(){if(o.value=p.getUser,_.value=p.getlaboratorys,C.value=p.getlaboratory,o.value.permissao.title==="Admin")s.value=2,r.value=d(s.value);else if(_.value!==null&&_.value.length!==0)if(C.value.coordenador_id===o.value.id)s.value=1,r.value=d(s.value);else switch(B.value=await K(C.value.per,o.value.id),B.value){case"Supervisor":s.value=2,r.value=d(s.value);break;case"Membro":s.value=0,r.value=d(s.value);break;case"Coolaborador":s.value=3,r.value=d(s.value);break;default:s.value=0,r.value=d(s.value)}else switch(o.value.permissao.title){case"Coordenador":s.value=1,r.value=d(s.value);break;case"Membro":s.value=0,r.value=d(s.value);break;case"Colaborador":s.value=3,r.value=d(s.value);break;default:s.value=0,r.value=d(s.value)}}return(f,u)=>(i(),g(w,null,[M(l(N,null,null,512),[[P,L.value]]),M(l(e(_e),{view:"hHh Lpr lff",container:"",class:"shadow-2 rounded-borders"},{default:t(()=>[l(e(se),{elevated:"",class:"top-bar"},{default:t(()=>[l(e(oe),null,{default:t(()=>[l(e(T),{onClick:u[0]||(u[0]=a=>$(c)?c.value=!e(c):c=!e(c)),class:"button-layout"},{default:t(()=>[l(e(h),{name:"menu",size:"1.6rem"})]),_:1}),l(e(ue),null,{default:t(()=>[v("button",Le,[v("div",we,[Se,l(e(h),{size:"1.4rem",name:"arrow_drop_down"})]),e(_)!==null&&e(_).length!==0&&e(o).permissao.title!=="Admin"?(i(),k(e(re),{key:0},{default:t(()=>[l(e(z),{style:{"min-width":"300px","background-color":"#1F2026",border:"1px solid #333335"}},{default:t(()=>[v("div",Qe,[v("span",null,S(e(o).email),1)]),(i(!0),g(w,null,A(e(_),(a,n)=>(i(),k(e(U),{class:"q-item",key:a.id,clickable:"",onClick:W=>J(a.id,n)},{default:t(()=>[v("div",Ce,[l(e(b),{avatar:""},{default:t(()=>[a.image?(i(),g("img",{key:0,class:"img-menu",src:`${a==null?void 0:a.image}`,alt:"Imagem do Laboratório"},null,8,xe)):Q("",!0)]),_:2},1024),l(e(b),null,{default:t(()=>[v("p",Me,S(a.nome),1)]),_:2},1024)]),M(l(e(h),{name:"check",size:"1.6rem",color:"primary"},null,512),[[P,a.check!==!1]])]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):Q("",!0)])]),_:1}),l(e(T),{onClick:u[1]||(u[1]=ne(a=>G(),["prevent"])),class:"button-layout"},{default:t(()=>[l(e(h),{name:"logout",size:"1.4rem"})]),_:1})]),_:1})]),_:1}),l(e(ie),{modelValue:e(c),"onUpdate:modelValue":u[3]||(u[3]=a=>$(c)?c.value=a:c=a),"show-if-above":"",width:300,breakpoint:500,style:{"background-color":"#1F2026",border:"1px #333335 solid"}},{default:t(()=>[l(e(de),{class:"fit"},{default:t(()=>[l(e(U),{class:"q-item",clickable:"",onClick:u[2]||(u[2]=a=>j())},{default:t(()=>[l(e(b),{avatar:""},{default:t(()=>{var a;return[e(o)&&e(o).image?(i(),g("img",{key:0,class:"img-avatar",src:`${(a=e(o))==null?void 0:a.image}`,alt:"Imagem do Usuário"},null,8,Pe)):Q("",!0)]}),_:1}),l(e(b),null,{default:t(()=>{var a,n;return[v("p",Ue,S(((a=e(o))==null?void 0:a.primeiro_nome)+" "+((n=e(o))==null?void 0:n.segundo_nome)),1)]}),_:1})]),_:1}),l(e(F),{style:{"background-color":"#333335"}}),l(e(z),null,{default:t(()=>[(i(!0),g(w,null,A(e(r),(a,n)=>(i(),g(w,{key:n},[l(e(ce),{class:"router-link",to:{name:a.link}},{default:t(()=>[l(e(U),{clickable:"",active:a.label==="Outbox"},{default:t(()=>[l(e(b),{avatar:""},{default:t(()=>[l(e(h),{name:a.icon},null,8,["name"])]),_:2},1024),l(e(b),null,{default:t(()=>[q(S(a.label),1)]),_:2},1024)]),_:2},1032,["active"])]),_:2},1032,["to"]),a.separator?(i(),k(e(F),{style:{"background-color":"#333335"},key:"sep"+n})):Q("",!0)],64))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(e(fe),null,{default:t(()=>[l(e(me),{style:{padding:"40px"},padding:""},{default:t(()=>[I.value?(i(),k(N,{key:1})):(i(),k(e(ve),{key:0}))]),_:1})]),_:1})]),_:1},512),[[P,!L.value]])],64))}}),Te=ke(Ve,[["__scopeId","data-v-1735de4c"]]);export{Te as default};
